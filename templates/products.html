{% extends "base.html" %}
{% block content %}
<h2>Products</h2>

<form class="card" method="post" action="{{ url_for('create_product') }}">
  <div class="grid-3">
    <div>
      <label>Name</label>
      <input name="name" placeholder="Product name" required>
    </div>
    <div>
      <label>Price</label>
      <input name="price" type="number" step="0.01" value="0">
    </div>
    <div>
      <label>Category</label>
      <select name="category_id" required>
        {% for c in categories %}
          <option value="{{ c.id }}">{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
  <button type="submit">Create & set attributes</button>
</form>

<table class="table">
  <thead><tr><th>Name</th><th>Category</th><th>Price</th><th>Actions</th></tr></thead>
  <tbody>
    {% for p in products %}
    <tr>
      <td>{{ p.name }}</td>
      <td>{{ p.category.name }}</td>
      <td>â‚¹{{ "%.2f"|format(p.price) }}</td>
      <td><a class="btn" href="{{ url_for('edit_product', product_id=p.id) }}">Edit values</a></td>
    </tr>
    {% else %}
    <tr><td colspan="4" class="muted">No products yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
